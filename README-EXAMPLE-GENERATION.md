# 智能例句生成功能说明

## 功能概述

系统现在支持使用多种方式生成更自然、符合语境的例句：

1. **OpenAI API**（推荐）- 生成最自然、最符合语境的例句
2. **免费词典API** - 使用真实词典中的例句
3. **智能模板生成** - 作为fallback，确保始终能生成例句

## 配置方式

### 方式1: 使用OpenAI API（推荐）

1. 获取OpenAI API密钥：访问 https://platform.openai.com/api-keys
2. 在项目根目录创建 `.env.local` 文件（如果还没有）
3. 添加以下内容：

```env
OPENAI_API_KEY=your_openai_api_key_here
```

4. 重启开发服务器

**优点：**
- 生成最自然、最符合语境的例句
- 能够理解上下文，生成更合理的句子
- 适合语言学习者使用

**缺点：**
- 需要API密钥（可能需要付费）
- 需要网络连接

### 方式2: 使用免费词典API（默认）

无需配置，系统会自动尝试使用免费的词典API。

**优点：**
- 完全免费
- 使用真实词典中的例句
- 无需配置

**缺点：**
- 可能找不到某些单词的例句
- 例句可能不够灵活

### 方式3: 智能模板生成（Fallback）

如果前两种方式都失败，系统会使用改进的智能模板生成例句。

**优点：**
- 始终可用
- 不需要外部API
- 快速响应

**缺点：**
- 例句可能不够自然
- 模板相对固定

## 使用方式

1. 在添加词汇时，输入德语、英语或中文单词
2. 系统会自动翻译并生成例句
3. 如果对生成的例句不满意，点击"🔄 重新生成"按钮
4. 系统会尝试使用更好的方式重新生成例句

## 技术实现

### API端点

- **路径**: `/api/generate-examples`
- **方法**: POST
- **请求体**:
```json
{
  "word": "德语单词",
  "enWord": "英语翻译",
  "zhWord": "中文翻译"
}
```

### 响应格式

```json
{
  "examples": {
    "de": "德语例句",
    "en": "英语例句",
    "zh": "中文例句"
  },
  "source": "openai" | "dictionary" | "template"
}
```

## 注意事项

1. OpenAI API需要有效的API密钥
2. 免费词典API可能对某些单词没有例句
3. 如果所有方式都失败，会使用模板生成作为最后手段
4. 生成的例句可以手动编辑

## 未来改进

- [ ] 支持更多大语言模型（Claude, Gemini等）
- [ ] 支持更多词典API
- [ ] 添加例句质量评分
- [ ] 支持用户反馈和例句改进

